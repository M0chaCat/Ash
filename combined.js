var _0x477442=_0x243b;(function(_0x5d6e8a,_0x5e32c5){var _0x39ad09=_0x243b,_0x3edd14=_0x5d6e8a();while(!![]){try{var _0x2305b7=-parseInt(_0x39ad09(0xa1))/0x1+-parseInt(_0x39ad09(0xac))/0x2*(parseInt(_0x39ad09(0x9e))/0x3)+-parseInt(_0x39ad09(0xa2))/0x4+parseInt(_0x39ad09(0xa9))/0x5+-parseInt(_0x39ad09(0x9d))/0x6*(parseInt(_0x39ad09(0xa7))/0x7)+-parseInt(_0x39ad09(0xaa))/0x8*(-parseInt(_0x39ad09(0xae))/0x9)+parseInt(_0x39ad09(0xa6))/0xa;if(_0x2305b7===_0x5e32c5)break;else _0x3edd14['push'](_0x3edd14['shift']());}catch(_0x29d99c){_0x3edd14['push'](_0x3edd14['shift']());}}}(_0xad9b,0xd54bc),document[_0x477442(0x9a)](_0x477442(0xa3),function(){var _0x5e75c8=_0x477442;function onEvent(id,event,callback){let target=id==='document'?document:document.getElementById(id);if(target){target.addEventListener(event,e=>{callback(e);});}else{console.warn(`Element with id '${id}' not found. Event '${event}' not attached.`);}}function simulateClick(elementId){var event=new MouseEvent('click',{view:window,bubbles:true,cancelable:true});var element=document.getElementById(elementId);if(element){element.dispatchEvent(event);}else{console.error('Element with ID '+elementId+' not found.');}}function BEMA(type,id,x,y,width,height,autohide,rounded,borderWidth,borderColor,bgColor,textColor,text,textAlign,fontSize,fontFamily,readOnly,icon,iconColor,customClass,customCSS){let element;if(type==='Button'){element=document.createElement('button');}else if(type==='Image'){element=document.createElement('img');if(icon){element.src=icon;element.style.width='100%';element.style.height='100%';element.style.objectFit='fill';}}else if(type==='Input'){element=document.createElement('input');element.type='text';}else{element=document.createElement(type);}element.id=id;element.style.position='absolute';element.style.left=`${x}px`;element.style.top=`${y}px`;element.style.width=`${width}px`;element.style.height=`${height}px`;element.style.borderStyle='solid';element.style.borderWidth=`${borderWidth}px`;element.style.borderColor=borderColor;element.style.backgroundColor=bgColor;element.style.color=textColor;element.style.textAlign=textAlign;element.style.fontSize=`${fontSize}px`;element.style.fontFamily=fontFamily;element.style.borderRadius=`${rounded}px`;if(customClass&&applyCustomClasses){const classes=customClass.split(' ');element.classList.add(...classes);}if(customCSS){Object.assign(element.style,customCSS);}if(readOnly){element.readOnly=true;element.style.userSelect='none';element.style.pointerEvents='none';}if(autohide){element.style.display='none';}element.style.pointerEvents='auto';if(type==='Button'){element.style.cursor='pointer';const img=document.createElement('img');img.id=id+'-img';if(!icon){img.src='brain.png';}else{img.src=icon;}if(customClass&&applyCustomClasses){const filteredClasses=customClass.split(' ').filter(c=>c.startsWith('img-'));if(filteredClasses.length){img.classList.add(...filteredClasses);}}img.style.width='100%';img.style.height='100%';img.style.borderRadius=`${rounded}px`;element.appendChild(img);if(text){element.textContent=text;}}else if(type==='TextArea'){element.value=text;element.style.outline='none';element.style.display='flex';element.style.alignItems='center';element.style.justifyContent='center';element.style.height=`${height}px`;if(readOnly){element.style.userSelect='none';element.style.pointerEvents='none';element.style.setProperty('cursor','default','important');element.style.overflow='hidden';}else{element.style.cursor='text';}}else if(type==='Input'){element.placeholder=text;}else if(type==='Image'&&icon){element.src=icon;}else{element.style.cursor='default';}const container=document.getElementById('bema-container');if(container){container.appendChild(element);}else{console.error('bema-container not found');}}function preloadImage(url){const img=new Image();img.src=url;}let audioInstances={};function stopSound(url){if(audioInstances[url]){audioInstances[url].pause();audioInstances[url].currentTime=0;console.log(`Stopped sound for URL: ${url}`);}else{console.warn(`No audio instance found for URL: ${url}`);}}function playSound(url){if(!audioInstances[url]){audioInstances[url]=new Audio(url);}audioInstances[url].play().catch(error=>{console.error(`Error playing sound: ${error}`);});console.log(`Playing sound for URL: ${url}`);}function setupEventListeners(id){const element=document.getElementById(id);if(element){element.classList.add('listening');element.addEventListener('click',()=>{console.log(`Click event fired for ${id}`);});}else{console.error(`Element with ID: ${id} not found for setting up event listeners.`);}}function setText(elementId,text){const element=document.getElementById(elementId);if(element){if(element.tagName==='TEXTAREA'||element.tagName==='INPUT'){element.value=text;}else{element.innerText=text;}}else{console.log(`Element not found: ${elementId}`);}}function getText(elementId){const element=document.getElementById(elementId);if(element){if(element.tagName==='INPUT'||element.tagName==='TEXTAREA'){return element.value;}else{return element.innerText||element.textContent;}}return'';}function deleteElement(elementId){const element=document.getElementById(elementId);if(element){element.remove();}}function appendItem(array,item){array.push(item);}function generateRandomString(length){var charset='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';var randomString='';for(var i=0;i<length;i++){var randomIndex=Math.floor(Math.random()*charset.length);randomString+=charset[randomIndex];}return randomString;}let intervalIds=[];function timedLoop(interval,callback){try{const intervalId=setInterval(()=>{try{callback();}catch(e){console.error('Callback error:',e);clearInterval(intervalId);}},interval);intervalIds.push(String(intervalId));return intervalId;}catch(error){console.error('Interval creation failed:',error);return null;}}function stopTimedLoop(intervalId){try{if(intervalId){const targetId=String(intervalId);const index=intervalIds.indexOf(targetId);if(index>-1){clearInterval(intervalId);intervalIds.splice(index,1);}}else{intervalIds.forEach(id=>{try{clearInterval(Number(id));}catch(e){console.warn('Cleanup error:',e);}});intervalIds=[];}}catch(error){console.error('Interval termination error:',error);}}function setProperty(elementId,property,value){const element=document.getElementById(elementId);if(element){if(property==='image'){const imgElement=element.tagName==='BUTTON'?element.querySelector('img'):element;if(imgElement){imgElement.src=value;}}else{element.style.setProperty(property,value);}}}function immmum(){}function getProperty(elementId,property){const element=document.getElementById(elementId);if(element){if(property==='image'){return element.tagName==='BUTTON'?element.src+'-img':element.src;}else{return element.style.getPropertyValue(property);}}}function showElement(elementId){const element=document.getElementById(elementId);if(element){element.style.display='block';}}function hideElement(elementId){const element=document.getElementById(elementId);if(element){element.style.display='none';}}function getTime(format){var dateCheck=new Date();var hours=dateCheck.getHours();var minutes=dateCheck.getMinutes();var seconds=dateCheck.getSeconds();let period='';if(format.includes('hh')||format.includes('hh:mm a')||format.includes('hh:mm:ss a')){period=hours>=12?'PM':'AM';hours=hours%12||12;}var hoursStr=hours<10?'0'+hours:hours;var minutesStr=minutes<10?'0'+minutes:minutes;var secondsStr=seconds<10?'0'+seconds:seconds;var formattedTime=format.replace('hh',hoursStr).replace('HH',hoursStr).replace('mm',minutesStr).replace('ss',secondsStr).replace('a',period);return formattedTime;}function getDate(format){var dateCheck=new Date();var month=dateCheck.getMonth()+1;var day=dateCheck.getDate();var year=dateCheck.getFullYear();var yy=year.toString().slice(-2);var monthStr=month<10?'0'+month:month.toString();var dayStr=day<10?'0'+day:day.toString();var formattedDate=format.replace('mm',monthStr).replace('dd',dayStr).replace('yyyy',year.toString()).replace('yy',yy);return formattedDate;}function shiftString(inputText,key){var encodedString='';for(var i=0;i<inputText.length;i++){var charCode=inputText.charCodeAt(i);var shiftedCharCode=charCode+key;var encodedCharacter=String.fromCharCode(shiftedCharCode);encodedString+=encodedCharacter;}return encodedString;}function unshiftString(encodedString,key){var decodedString='';for(var i=0;i<encodedString.length;i++){var encodedCharCode=encodedString.charCodeAt(i);var originalCharCode=encodedCharCode-key;var decodedCharacter=String.fromCharCode(originalCharCode);decodedString+=decodedCharacter;}return decodedString;}var uptimeS=0;timedLoop(1000,function(){uptimeS=uptimeS+1;});function getUptimeS(){return Math.round(uptimeS);}var uptimeMS=0;timedLoop(1,function(){uptimeMS=uptimeMS+1;});function getUptimeMS(){return Math.round(uptimeMS);}function checkSha256(message,expectedHash){var computedHash=sha256(message);return computedHash===expectedHash;}function sha256(message){function rightRotate(value,amount){return value>>>amount|value<<32-amount;}function utf8Encode(str){return unescape(encodeURIComponent(str));}var K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var initialHashValues=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];message=utf8Encode(message);var lengthInBits=message.length*8;message+=String.fromCharCode(128);while(message.length%64!==56){message+=String.fromCharCode(0);}message+=String.fromCharCode(lengthInBits>>>56&255);message+=String.fromCharCode(lengthInBits>>>48&255);message+=String.fromCharCode(lengthInBits>>>40&255);message+=String.fromCharCode(lengthInBits>>>32&255);message+=String.fromCharCode(lengthInBits>>>24&255);message+=String.fromCharCode(lengthInBits>>>16&255);message+=String.fromCharCode(lengthInBits>>>8&255);message+=String.fromCharCode(lengthInBits&255);var chunks=[];for(var i=0;i<message.length;i+=64){chunks.push(message.slice(i,i+64));}var hash=initialHashValues.slice();chunks.forEach(function(chunk){var words=new Array(64);for(var i=0;i<16;i++){words[i]=chunk.charCodeAt(i*4)<<24|chunk.charCodeAt(i*4+1)<<16|chunk.charCodeAt(i*4+2)<<8|chunk.charCodeAt(i*4+3);}for(var i=16;i<64;i++){var s0=rightRotate(words[i-15],7)^rightRotate(words[i-15],18)^words[i-15]>>>3;var s1=rightRotate(words[i-2],17)^rightRotate(words[i-2],19)^words[i-2]>>>10;words[i]=words[i-16]+s0+words[i-7]+s1&4294967295;}var a=hash[0],b=hash[1],c=hash[2],d=hash[3],e=hash[4],f=hash[5],g=hash[6],h=hash[7];for(var i=0;i<64;i++){var s1=rightRotate(e,6)^rightRotate(e,11)^rightRotate(e,25);var ch=e&f^~e&g;var temp1=h+s1+ch+K[i]+words[i]&4294967295;var s0=rightRotate(a,2)^rightRotate(a,13)^rightRotate(a,22);var maj=a&b^a&c^b&c;var temp2=s0+maj&4294967295;h=g;g=f;f=e;e=d+temp1&4294967295;d=c;c=b;b=a;a=temp1+temp2&4294967295;}hash[0]=hash[0]+a&4294967295;hash[1]=hash[1]+b&4294967295;hash[2]=hash[2]+c&4294967295;hash[3]=hash[3]+d&4294967295;hash[4]=hash[4]+e&4294967295;hash[5]=hash[5]+f&4294967295;hash[6]=hash[6]+g&4294967295;hash[7]=hash[7]+h&4294967295;});var result='';for(var b=0;b<8;b++){result+=('00000000'+hash[b].toString(16)).slice(-8);}return result;}function setPosition(elementId,x,y){const element=document.getElementById(elementId);if(!element){console.warn(`Element with id '${elementId}' not found in setPosition.`);return;}x=isNaN(x)?0:x;y=isNaN(y)?0:y;element.style.position='absolute';element.style.left=`${x}px`;element.style.top=`${y}px`;}function getXPosition(elementId){const element=document.getElementById(elementId);if(!element){console.warn(`Element with id '${elementId}' not found in getXPosition.`);return 0;}const rect=element.getBoundingClientRect();return rect.left;}function getYPosition(elementId){const element=document.getElementById(elementId);if(!element){console.warn(`Element with id '${elementId}' not found in getYPosition.`);return 0;}const rect=element.getBoundingClientRect();return rect.top;}function setSize(elementId,width,height){const element=document.getElementById(elementId);if(element){element.style.width=`${width}px`;element.style.height=`${height}px`;}else{}}function shuffle(arr){var copy=arr.slice();for(var i=copy.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1));var temp=copy[i];copy[i]=copy[j];copy[j]=temp;}return copy;}function randompick(arr){return arr[Math.floor(Math.random()*arr.length)];}function isArray(x){return x instanceof Array;}function isString(x){return typeof x==='string'||x instanceof String;}function isFunction(x){return typeof x==='function';}function isNumber(x){return typeof x==='number'&&!isNaN(x);}function isObject(x){return x!==null&&typeof x==='object'&&!isArray(x);}function isEmpty(x){if(x==null)return true;if(isArray(x)||isString(x))return x.length===0;if(isObject(x))return Object.keys(x).length===0;return false;}function type(x){if(x===null)return'null';if(x===undefined)return'undefined';if(isArray(x))return'array';if(isString(x))return'string';if(isFunction(x))return'function';if(isNumber(x))return'number';if(isObject(x))return'object';return typeof x;}var XKexts={};var BKexts={};function registerXKext(fn,name){if(typeof fn!=='function'){throw new Error('XKext must be a function');}var kextName=name||fn.name;if(!kextName)throw new Error('XKext must have a name');XKexts[kextName]={func:fn,loaded:false};}function registerBKext(fn,name){if(typeof fn!=='function'){throw new Error('BKext must be a function');}var kextName=name||fn.name;if(!kextName)throw new Error('BKext must have a name');BKexts[kextName]={func:fn,loaded:false};}function loadXKext(name){var kext=XKexts[name];if(kext&&!kext.loaded){kext.func();kext.loaded=true;}}function loadBKext(name){var kext=BKexts[name];if(kext&&!kext.loaded){kext.func();kext.loaded=true;}}function loadAllXKexts(){for(var name in XKexts){loadXKext(name);}}function loadAllBKexts(){for(var name in BKexts){loadBKext(name);}}function hasXKext(name){return XKexts.hasOwnProperty(name);}function hasBKext(name){return BKexts.hasOwnProperty(name);}function isXKextLoaded(name){return XKexts.hasOwnProperty(name)&&XKexts[name].loaded;}function isBKextLoaded(name){return BKexts.hasOwnProperty(name)&&BKexts[name].loaded;}var IDstarter='Helion';var HomescreenWindow='';var BarIconID='.Home.DockApp.';function openBundles$Config(IDstarterr,HomescreenWindoww,BarIconIDd){IDstarter=IDstarterr;HomescreenWindow=HomescreenWindoww;BarIconID=BarIconIDd;}function openBundles$getIDstarter(){return IDstarter;}function openBundles$InstallShortcut(appname,iconn){var icon;icon=iconn;if(barIcons.indexOf('')!==-1){barIcons[barIcons.indexOf('')]=appname;setProperty(IDstarter+BarIconID+(barIcons.indexOf('')+0)+'-img','image',icon);showElement(IDstarter+BarIconID+(barIcons.indexOf('')+0));return barIcons.indexOf(appname);}return false;}function openBundles$UninstallShortcut(appname){for(var i=0;i<barIcons.length;i++){if(barIcons[i]===appname){barIcons[i]='';setProperty(IDstarter+BarIconID+(i+1),'image','assets/question.png');hideElement(IDstarter+BarIconID+(i+1));return;}}}function openBundles$displayLinks(){for(var key in Apps){if(Apps.hasOwnProperty(key)){console.log(key+' : '+Apps[key]);}}}function openBundles$RegisterAppBundle(BundleID,Screens){}function openBundles$hideIcons(){showElement(IDstarter+HomescreenWindow);}function openBundles$showIcons(){hideElement(IDstarter+HomescreenWindow);}var apps=[];function openBundles$addApp(name,version,author,mainscreen,icon,isbundle,showinappstore){apps.push({name:name,version:version,author:author,mainscreen:mainscreen,icon:icon,isbundle:isbundle,showinappstore:showinappstore});}function openBundles$removeApp(name){const index=apps.findIndex(app=>app.name===name);if(index!==-1){apps.splice(index,1);return true;}return false;}function openBundles$getApps(){return apps;}var activeBundles={};const PermissiveSecurity=true;const enableTegrity=true;const isDevBuild=true;const isPublicBuild=false;const isTestBuild=false;const isPortableBuild=true;const expectedHashes={Heilos:'1c8a37ec4d877844-ac4cd8430581c935ae4552a7d0fd70620330ee27aa46ebe',TegrityWatchdog:'7d03320b1f1bd57353d4eaa6685eb42a30f201e2-4a2b9e8582c8b292e446b7c',Hypervisor:'-6226fc96d12ea8771b72ade1f949f6c708520a9664629524104b07f49b64610',BackBoot:'60ae7d2e5fe2f9772aba63a220992f9e508cbaf9373192ee284b0cad662a23a6',FrontBoot:'18bd674917aa4dce4a32c9df32788e7d01a00c0742437f145cb6a92f3cba7cf8',LockScreen:'58a7978e5bc6eb076cb323f27aec77474d4f8419-22a2b75-437f1491944a921',HomeScreen:'5667cc152afbadf754b43deb77b04802288087882468605754afb60a23a08972'};let currentLang='en';function deepFreeze(obj){Object.getOwnPropertyNames(obj).forEach(name=>{let value=obj[name];if(typeof value==='object'&&value!==null){deepFreeze(value);}});return Object.freeze(obj);}Object.defineProperty(window,'LANGS',{value:deepFreeze({en:{'setuptext.welcome':'\n\nWelcome to Helios!\nThank you for choosing our operating system.\nThis setup will guide you through basic configuration to get started.\nYou can customize your experience, connect to the NyaNet, and personalize your device.\nLet\u2019s get started!','setuptext.lang':'\n\nChoose your preferred language.\n\nThis will set the system language for menus, dialogs, and apps.\nYou can change this later in Settings.\nSelect the language you want to use and tap the next button to continue.','setuptext.ui':'\n\nGlass UI is enabled by default.\nIt adds a translucent glass-like effect to the interface for a modern look.\nFor accessibility, you can turn this effect off if needed.\nToggle the switch to enable or disable Glass UI.','setuptext.other':'\n\nChoose your preferred time format.\nThis setting controls how time is displayed across the system.\nYou can switch between 12-hour and 24-hour formats.\nThis can be changed anytime in Settings.','setuptext.eula':'\n\nHelios End User License Agreement (EULA)\n\nBy using Project Helion, you agree to the following:\n- Do not redistribute, copy, or share any builds, files, or assets.\n- Do not modify, hack, patch, reverse-engineer, or edit the software in any form.\n- All rights, including intellectual property, remain with Mochalabs.\n\nViolation of these terms may result in termination of access and further legal action.','setuptext.activation':'\n\nVerifying your device...\nThis may take a moment.\nHelios is checking activation status and ensuring everything is ready.\nPlease do not turn off your device during this process.','setuptext.activation.suc':'\n\nYour device has been successfully activated.\nEverything is ready to go.\nTap Next to continue.','setuptext.activation.fail':'\n\nActivation failed.\nPlease contact @communistkittycat for assistance.\n','setuptext.done':'\n\nSetup is complete.\nYour device is ready to use.\nPress the next button to reboot and start Helios.','tipstext':'\n\nHelios 1.5\nPublic testing betas!!','status.projectInfo':'HeliOS version {version}','button.ok':'OK','button.cancel':'Cancel','booting':'Booting...','login':'Login','store.welcome':'\n\nWelcome to the Helios Store','beta.welcome':'\n\nWelcome to the Helios Beta Program','about':'About','settings.about':'Helios version: {version}\nDeveloped by Mochalabs','general':'General','wallpapers':'Wallpapers','settings':'Settings','language.current':'Current language: {lang}','language':'Language','timeformatting':'Time Formatting','24hour':'24 Hour','-hour':' Hour','seconds':'Seconds','yes':'Yes','no':'No','ui':'UI','disableglassandanim':'Disable glass and animations'},ru:{'setuptext.welcome':'\n\nДобро пожаловать в Helios!\nСпасибо, что выбрали нашу операционную систему.\nЭтот мастер настройки проведет вас через базовые параметры для начала работы.\nВы сможете настроить интерфейс, подключиться к NyaNet и персонализировать устройство.\nДавайте начнем!','setuptext.lang':'\n\nВыберите предпочитаемый язык.\n\nЭто установит язык системы для меню, диалогов и приложений.\nВы сможете изменить его позже в Настройках.\nВыберите язык и нажмите кнопку Далее для продолжения.','setuptext.ui':'\n\nИнтерфейс Glass UI включён по умолчанию.\nОн добавляет прозрачный эффект стекла для современного внешнего вида.\nДля удобства пользователей с особыми потребностями вы можете отключить этот эффект.\nПереключите тумблер, чтобы включить или отключить Glass UI.','setuptext.other':'\n\nВыберите предпочитаемый формат времени.\nЭтот параметр управляет отображением времени во всей системе.\nМожно переключаться между 12-часовым и 24-часовым форматами.\nЭто можно изменить в любое время в Настройках.','setuptext.eula':'\n\nЛицензионное соглашение пользователя Helios (EULA)\n\nИспользуя Project Helion, вы соглашаетесь со следующим:\n- Не распространять, не копировать и не делиться сборками, файлами или ресурсами.\n- Не модифицировать, взламывать, патчить, реверс-инжинирить или редактировать программное обеспечение любым способом.\n- Все права, включая интеллектуальную собственность, принадлежат Mochalabs.\n\nНарушение этих условий может привести к прекращению доступа и юридическим последствиям.','setuptext.activation':'\n\nПроверка вашего устройства...\nЭто может занять некоторое время.\nHelios проверяет статус активации и готовит систему.\nПожалуйста, не выключайте устройство во время процесса.','setuptext.activation.suc':'\n\nУстройство успешно активировано.\nВсе готово к работе.\nНажмите Далее, чтобы продолжить.','setuptext.activation.fail':'\n\nАктивация не удалась.\nПожалуйста, свяжитесь с @communistkittycat для помощи.\n','setuptext.done':'\n\nНастройка завершена.\nВаше устройство готово к использованию.\nНажмите кнопку Далее, чтобы перезагрузить и запустить Helios.','tipstext':'\n\nHelios 1.5\nПубличное тестирование бета-версий!!','status.projectInfo':'Helios, версия {version}','button.ok':'ОК','button.cancel':'Отмена','booting':'Загрузка...','login':'Войти','store.welcome':'\n\nДобро пожаловать в магазин Helios','beta.welcome':'\n\nДобро пожаловать в бета-программу Helios','about':'О программе','settings.about':'Helios, Версия {version}\nРазработано Mochalabs','general':'Общие','wallpapers':'Обои','settings':'Настройки','language.current':'Текущий язык: {lang}','language':'Язык','timeformatting':'Формат времени','24hour':'24 часа','-hour':' час','seconds':'Секунды','yes':'Да','no':'Нет','ui':'Интерфейс','disableglassandanim':'Отключить стекло и анимации'}}),writable:false,configurable:false,enumerable:true});function t(key,values={}){const template=LANGS[currentLang][key]||key;return template.replace(/\{(\w+)\}/g,(_,k)=>values[k]??`{${k}}`);}function _0x5d8962(){};function Debugger(){}function checkKextIntegrity(){}function Heilos(){}registerBKext(Heilos=function Heilos(){Debugger=function Debugger(){console.clear();console.log('----------------------Debugger----------------------');console.log('   Powered by MWK');console.log('   Time Of Day: '+getTime('HH:mm:ss')+'                  Date: '+getDate('dd/mm/yyyy'));console.log('   Version: '+_0x41435b);console.log('   System Uptime: '+getUptimeS());};checkKextIntegrity=function checkKextIntegrity(name,expectedHashes){let raw=BKexts?.[name]??globalThis?.[name];if(typeof raw==='undefined'){console.error(`[KextTegrity] "${name}" not found in BKexts or globalThis.`);return;}const func=typeof raw==='function'?raw:typeof raw?.func==='function'?raw.func:null;if(!func){console.error(`[KextTegrity] "${name}" exists, but isn't a function.`);console.debug(`[KextTegrity] typeof raw = ${typeof raw}`,raw);return;}try{const actualHash=sha256(func.toString());const expectedHash=expectedHashes[name];if(actualHash!==expectedHash){logError('KextTegrityHelper',name+'~'+actualHash+'~'+expectedHash);if(PermissiveSecurity){console.error(`[KextTegrity] Tampering detected in "${name}"\n[KextTegrity] ${name} hash:\n${actualHash}\n\nExpected: ${expectedHash}`);}else{killall();}}}catch(e){console.error(`[KextTegrity] Error hashing "${name}":`,e);}};},'Heilos');registerBKext(function Hypervisor(){},'Hypervisor');registerBKext(function TegrityWatchdog(){let wasInactive=false;let lastLoopTime=Date.now();timedLoop(300,function(){const now=Date.now();const delta=now-(window.KextIntegrityLastChecked||0);const sinceLastLoop=now-lastLoopTime;lastLoopTime=now;const justResumedFromSleep=sinceLastLoop>2000;if(delta>2000){if(justResumedFromSleep){console.warn('[IntegrityWatchdog] Skipping killall: tab likely resumed from sleep');return;}if(!wasInactive){console.error('[IntegrityWatchdog] ALERT: KextIntegrity appears inactive or blocked!');killall();wasInactive=true;}}else{if(wasInactive){console.info('[IntegrityWatchdog] KextIntegrity resumed, resetting watchdog.');}wasInactive=false;}});},'TegrityWatchdog');function _0x1ed1ff(){var _0x402260=_0x243b;try{typeof globalThis['KernelPreboot']===_0x402260(0xa8)&&!PermissiveSecurity&&killall();}catch(_0x3b2df1){}}registerBKext(function _0x468eb0(){var _0x282495=_0x243b;window[_0x282495(0x9f)]=Date[_0x282495(0x9c)](),timedLoop(0x1f5,function(){var _0x1dcfd6=_0x282495;window[_0x1dcfd6(0x9f)]=Date[_0x1dcfd6(0x9c)]();for(const _0x211a42 of Object[_0x1dcfd6(0xa4)](expectedHashes)){checkKextIntegrity(_0x211a42,expectedHashes);}_0x1ed1ff();});},_0x5e75c8(0xa5)),BackBoot();function preloadImage(url){return new Promise(resolve=>{const img=new Image();img.onload=()=>resolve(true);img.onerror=()=>resolve(false);img.src=url;});}function protectVar(name,value){Object.defineProperty(window,name,{value,writable:false,configurable:false});}Object.defineProperty(window,'updateIconVisibility',{value:function(){for(var i=0;i<icons.length;i++){var iconId='Heilos.Home.App.'+i;if(icons[i]){for(var ii=0;ii<apps.length;ii++){if(apps[ii].name===icons[i]){setProperty(iconId,'image',apps[ii].icon);break;}}showElement(iconId);}else{hideElement(iconId);}}for(var i=0;i<barIcons.length;i++){var iconId='Heilos.Home.DockApp.'+i;if(barIcons[i]){for(var ii=0;ii<apps.length;ii++){if(apps[ii].name===barIcons[i]){setProperty(iconId,'image',apps[ii].icon);break;}}showElement(iconId);}else{hideElement(iconId);}}},writable:false,configurable:false});Object.defineProperty(window,'setWallpaper',{value:function(img){setProperty('Heilos.Home.Wallpaper1','image',img);setProperty('Heilos.Home.Wallpaper','image',img);Wallpaper=img;}});Object.defineProperty(window,'OpenBundles$RegisterAppBundle',{value:function(BundleID,Screens){Apps[BundleID]=Screens;},writable:false,configurable:false});Object.defineProperty(window,'OpenBundles$hideIcons',{value:function(){HomeScreen(false);},writable:false,configurable:false});Object.defineProperty(window,'OpenBundles$showIcons',{value:function(){HomeScreen(true);Heilos$ReSetIconImages();},writable:false,configurable:false});Object.defineProperty(window,'OpenBundles$getApps',{value:function(){return apps;},writable:false,configurable:false});Object.defineProperty(window,'OpenBundles$openApp',{value:function(appName){if(sessionOwner==users[0]&&appName!=='Setup'){console.log('[OpenBundles]: You must be logged in first!');return false;}if(killallHasRun&&appName!=='Setup')return;var TempApps=OpenBundles$getApps();for(var i=0;i<TempApps.length;i++){var app=TempApps[i];if(app.name===appName){if(app.isbundle===true){if(app.mainscreen.indexOf('Bundle$')!==-1){eval(app.mainscreen);}else{console.log('[OpenBundles]: The app might not be a bundle!');}}else{console.error('[OpenBundles]: App is for applab only!');}return;}}console.error('App with name '+appName+' not found.');},writable:false,configurable:false});Object.defineProperty(window,'Heilos$InstallApp',{value:function(appname){if(icons.indexOf('')!==-1){var index=icons.indexOf('');icons[index]=appname;var appsArray=OpenBundles$getApps();var appIcon='';for(var i=0;i<appsArray.length;i++){if(appsArray[i].name===appname){appIcon=appsArray[i].icon;break;}}setProperty('Heilos.Home.App.'+index,'image',appIcon);showElement('Heilos.Home.App.'+index);updateIconVisibility();return true;}return false;},writable:false,configurable:false});Object.defineProperty(window,'Heilos$ReSetIconImages',{value:function(){updateIconVisibility();},writable:false,configurable:false});Object.defineProperty(window,'Heilos$UninstallApp',{value:function(appname){for(var i=0;i<icons.length;i++){if(icons[i]===appname){icons[i]='';setProperty('Heilos.Home.App.'+(i+1),'image','icon://fa-question');hideElement('Heilos.Home.App.'+(i+1));updateIconVisibility();return;}}},writable:false,configurable:false});function UninstallAllApps(){for(var i=0;i<icons.length;i++){if(icons[i]!==''){Heilos$UninstallApp(icons[i]);}}}async function DownloadFunction(url){try{const res=await fetch(url);const code=await res.text();eval(code);}catch(e){}}function deleteAllElements(){const container=document.getElementById('bema-container');if(container){container.innerHTML='';}else{console.error('bema-container not found');}}async function testNyaNet(){try{const res=await fetch(ServerUrl+'/response.txt');if(!res.ok){console.error('HTTP error:',res.status);return false;}const text=await res.text();if(text.trim()==='hewwo!'){return true;}else{return false;}}catch(err){return false;}}async function testVersion(){logError('TestVersion','TestVersion() is deprecated! use CheckActivation()');return false;}async function CheckActivation(ver){const currentHost=window.location.hostname;if(currentHost!=='helios.fex'&&currentHost!=='heliosarchive.fex'&&currentHost!=='helioninsiders.pineapple'&&currentHost!=='heliosdev.pineapple'){if(!isPortableBuild){return false;}}if(isDeviceSetup){return false;}if(isNyaNetAvailable){return await checkTelemetry(ver);}else{return false;}}const checkTelemetry=((()=>{function getNativeFetch(){const iframe=document.createElement('iframe');document.body.appendChild(iframe);const f=iframe.contentWindow.fetch.bind(window);document.body.removeChild(iframe);return f;}const nativeFetch=getNativeFetch();async function detectTampering(){let tampered=false;if(!/\[native code\]/.test(Function.prototype.toString.call(window.fetch))){tampered=true;}const testUrl='data:application/json,{"ok":true}';try{const [nativeResp,currentResp]=await Promise.all([nativeFetch(testUrl).then(r=>r.text()),window.fetch(testUrl).then(r=>r.text())]);if(nativeResp!==currentResp){tampered=true;}}catch(e){tampered=true;}if(tampered){if(typeof PermissiveSecurity!=='undefined'&&PermissiveSecurity){logError('checkTelemetry','fetch has been modified!');}try{killall?.();}catch(e){}window.fetch=nativeFetch;return true;}return false;}return async()=>{await detectTampering();const payload={datetime:new Date().toISOString(),version:typeof Version!=='undefined'?Version:'unknown',useragent:navigator.userAgent};try{const response=await nativeFetch('http://heliosactivation.fex/telemetry.php',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});const result=await response.json();await detectTampering();return result===true;}catch(err){console.error('Telemetry error:',err);return false;}};})());function logError(source,errcode){let text=source+' says: '+errcode;if(isTestBuild){console.error('Error!! please report this!!!: \n\n'+btoa(text));}else if(isDevBuild){console.error(text);}else{}return text;}function login(userid){sessionOwner=users[userid];HomeScreen(true);}function logout(){sessionOwner=users[0];}function Shutdown(){drawUI(false);LockScreen(false);HomeScreen(false);stopTimedLoop();}function Reboot(){Shutdown();setTimeout(function(){BackBoot();},700);}function slideAppsDown(icons){var apps=icons.filter(function(icon){return icon!=='';});while(apps.length<icons.length){apps.push('');}for(var i=0;i<icons.length;i++){icons[i]=apps[i];}return icons;}var PasteBoard='';var Mantle='#181825';var Base='#1e1e2e';var Text='#cdd6f4';var Blank='rgba(0,0,0,0)';var Surface0='#313244';var Surface1='#45475a';var Surface2='#585b70';var Overlay0='#6c7086';var Version='1.5.2';const MainServerUrl='http://heliosdata.fex';const PrivateServerUrl='http://heliosprivatedata.fex';const ServerUrl=isDevBuild?PrivateServerUrl:MainServerUrl;var StatusBarText=isPublicBuild?'':t('status.projectInfo',{version:Version});var users=[{'Name':'System'},{'Name':'User'}];var sessionOwner=users[0];var firstBoot=true;var isDeviceSetup=false;var isNyaNetAvailable=false;let preloadFailed=false;var Wallpaper='./assets/wallpapers/wave.jpg';var timeFormat='hh:mm';var timeAfter='';var applyCustomClasses=false;var cols=6;var rows=6;var iconSize=100;var Apps={};var icons=['','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','',''];var barIcons=['','','','','',''];var activeBundles={};openBundles$Config('Heilos',_0x5e75c8(0x9b),_0x5e75c8(0xa0)),openBundles$addApp('Settings',0x1,'Mocha',_0x5e75c8(0x96),'./assets/settings.svg',!![],!![]),openBundles$addApp(_0x5e75c8(0x97),0x1,_0x5e75c8(0xab),_0x5e75c8(0xad),_0x5e75c8(0x99),!![],!![]),openBundles$addApp('Setup',0x1,_0x5e75c8(0xab),_0x5e75c8(0x98),_0x5e75c8(0x95),!![],!![]);let killallHasRun=false;function killall(){if(killallHasRun)return;killallHasRun=true;if(!preloadFailed&&progress>=450){Shutdown();Bundle$Setup('HideAll','OpenBundle$Setup');Bundle$Setup('HideAll','OpenBundle$Lang');Bundle$Setup('HideAll','OpenBundle$Ui');Bundle$Setup('HideAll','OpenBundle$Other');Bundle$Setup('HideAll','OpenBundle$Eula');Bundle$Setup('HideAll','OpenBundle$Activation');Bundle$Setup('HideAll','OpenBundle$Done');drawUI(false);LockScreen(false);HomeScreen(false);timedLoop(100,function(){deleteAllElements();BEMA('TextArea','boot_text',0,600,750,100,false,false,0,'','#000000',Text,t('booting'),'center',36,'Tahoma',true,true,'','','','');setPosition('boot_text',0,400);setProperty('boot_text','Color','#f9e2af');setText('boot_text','Corrupt Image, Please reinstall');});}else{killallHasRun=false;}}function BackBoot(){if(enableTegrity){loadBKext('Hypervisor');loadBKext('KextTegrity');loadBKext('TegrityWatchdog');}loadBKext('Heilos');bootScreen();}window.BackBoot=BackBoot;function FrontBoot(){if(!preloadFailed){setTimeout(function(){hideElement('Heilos.Boot.Image');testNyaNet().then(success=>{if(success){isNyaNetAvailable=true;CheckActivation().then(success=>{if(success){isNyaNetAvailable=true;}else{isNyaNetAvailable=false;}});}else{isNyaNetAvailable=false;console.log('Could not connect to the NyaNet!');}});if(!isDeviceSetup){OpenBundles$openApp('Setup');return;}if(firstBoot){firstBoot=false;if(!isPublicBuild&&isTestBuild){Version+='-PrT';}else if(!isPublicBuild&&!isTestBuild){Version+='-Pr';}else if(isPublicBuild&&isTestBuild){Version+='-PT';}else if(isPublicBuild&&!isTestBuild){Version+='-P';}protectVar('Version');StatusBarText=isPublicBuild?'':t('status.projectInfo',{version:Version});Heilos$InstallApp('Settings');if(isNyaNetAvailable){Heilos$InstallApp('Appstore');if(isPublicBuild){}else{}}}drawUI();LockScreen(true);},100);}}window.FrontBoot=FrontBoot;function drawUI(del){if(del!=false){if(killallHasRun){killallHasRun=false;return;}BEMA('Image','Heilos.Home.Wallpaper1',-4.5,-4.5,755,1340,false,0,0,Base,Base,Text,'','left',5,'Tahoma',true,Wallpaper,Text,'dock-icon fade-in'),setProperty('Heilos.Home.Wallpaper1','fit','fill'),setProperty('Heilos.Home.Wallpaper1','z-index','-10'),BEMA('TextArea','Heilos.StatusBar.BG',10,10,730,40,false,30,0,applyCustomClasses?Blank:Mantle,applyCustomClasses?Blank:Mantle,'rgb(243, 139, 168)',StatusBarText,'center',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular'),BEMA('TextArea','Heilos.StatusBar.Time',20,8,200,40,true,1000,0,applyCustomClasses?Blank:Mantle,applyCustomClasses?Blank:Mantle,Text,getTime(timeFormat+timeAfter),'left',24,'Tahoma',true,'',Text,'dock-icon'),setProperty('Heilos.StatusBar.BG','z-index','10'),setProperty('Heilos.StatusBar.Time','z-index','10'),setProperty('Heilos.StatusBar.Battery','z-index','10'),timedLoop(500,function(){setText('Heilos.StatusBar.Time',getTime(timeFormat+timeAfter));});}else deleteElement('Heilos.StatusBar.BG'),deleteElement('Heilos.Home.Wallpaper1'),deleteElement('Heilos.StatusBar.Time');}let progress=0;function bootScreen(){BEMA('TextArea','boot_bg',0,0,750,1334,false,false,0,'#000000','#000000','','',0,'',true,true,'','','',''),BEMA('Image','logo',250,300,250,250,false,true,0,'','','','','',0,'',true,'./assets/normal.PNG','','',''),setProperty('logo','object-fit','contain'),BEMA('TextArea','boot_text',0,600,750,100,false,false,0,'','#000000',Text,t('booting'),'center',36,'Tahoma',true,true,'','','',''),BEMA('TextArea','bar_bg',150,750,450,30,false,true,2,'','#181825','#181825','','',0,'',true,true,'','','',''),BEMA('TextArea','bar_fill',150,750,0,30,false,0,0,'','#a6e3a1','#a6e3a1','','',0,'',true,true,'','','','');const _0x49559d=setInterval(()=>{progress>=450&&(progress=450,clearInterval(_0x49559d),deleteElement('boot_bg'),deleteElement('logo'),deleteElement('boot_text'),deleteElement('bar_bg'),deleteElement('bar_fill'),setTimeout(function(){for(const _0xb47c16 of Object.keys(expectedHashes)){checkKextIntegrity(_0xb47c16,expectedHashes);}!preloadFailed&&progress>=450&&FrontBoot();},100)),setSize('bar_fill',progress,30);},30);function _0x446341(_0x1a3484){!_0x1a3484&&!preloadFailed&&(preloadFailed=true,progress=0,protectVar('progress'),deleteElement('boot_bg'),deleteElement('logo'),deleteElement('bar_bg'),deleteElement('bar_fill'),setPosition('boot_text',0,400),setProperty('boot_text','Color','#f9e2af'),LockScreen(false),HomeScreen(false),setText('boot_text','Corrupt Image, Please reinstall'),deleteElement('Heilos.Home.Wallpaper1'),deleteElement('Heilos.StatusBar.BG'),deleteElement('Heilos.StatusBar.Time'),deleteElement('Heilos.StatusBar.Battery'));}setTimeout(function(){((async()=>{const _0x1e0f5f=await preloadImage('./assets/wallpapers/strands.png');_0x446341(_0x1e0f5f);if(_0x1e0f5f)progress+=45;})()),((async()=>{const _0x4aa383=await preloadImage('./assets/wallpapers/Tahoe.png');_0x446341(_0x4aa383);if(_0x4aa383)progress+=45;})()),((async()=>{const _0x2b1842=await preloadImage('./assets/wallpapers/Tahoe Light.png');_0x446341(_0x2b1842);if(_0x2b1842)progress+=45;})()),((async()=>{const _0x56460e=await preloadImage('./assets/wallpapers/layers.jpg');_0x446341(_0x56460e);if(_0x56460e)progress+=45;})()),((async()=>{const _0xc8e893=await preloadImage('./assets/wallpapers/waves.jpg');_0x446341(_0xc8e893);if(_0xc8e893)progress+=45;})()),((async()=>{const _0x3b8c8d=await preloadImage('./assets/wallpapers/wave.jpg');_0x446341(_0x3b8c8d);if(_0x3b8c8d)progress+=45;})()),((async()=>{const _0x423369=await preloadImage('./assets/wallpapers/wallp.jpg');_0x446341(_0x423369);if(_0x423369)progress+=45;})()),((async()=>{const _0x4a1676=await preloadImage('./assets/wallpapers/Chroma Blue.png');_0x446341(_0x4a1676);if(_0x4a1676)progress+=45;})()),((async()=>{const _0x4b999e=await preloadImage('./assets/times.png');_0x446341(_0x4b999e);if(_0x4b999e)progress+=18;})()),((async()=>{const _0xe52341=await preloadImage('./assets/left-arrow.png');_0x446341(_0xe52341);if(_0xe52341)progress+=18;})()),((async()=>{const _0x46aae9=await preloadImage('./assets/appstore.svg');_0x446341(_0x46aae9);if(_0x46aae9)progress+=18;})()),((async()=>{const _0x3719e5=await preloadImage('./assets/settings.svg');_0x446341(_0x3719e5);if(_0x3719e5)progress+=18;})()),((async()=>{const _0x3f86af=await preloadImage('./assets/tips.png');_0x446341(_0x3f86af);if(_0x3f86af)progress+=18;})());},3000);}window.bootScreen=bootScreen;let lockTimeUpdateIntervalId;Object.defineProperty(window,'LockScreen',{value:function(showhide){if(showhide){if(!isDeviceSetup){OpenBundles$openApp('Setup');return;}if(killallHasRun){killallHasRun=false;return;}BEMA('TextArea','Heilos.Login.TimeText',0,100,750,140,false,10,3,Blank,Blank,Text,getTime(timeFormat+timeAfter),'center',125,'Tahoma',true,'',Text);BEMA('TextArea','Heilos.Login.Window',250,400,250,250,true,20,3,applyCustomClasses?Blank:Base,applyCustomClasses?Blank:Base,Text,'','left',5,'Tahoma',true,'',Text,'fade-in glass-filter glass-overlay glass-specular');BEMA('Image','Heilos.Login.Image.1',265,400,230,230,true,20,0,'',applyCustomClasses?Blank:Base,Text,'','left',5,'Arial',true,'./assets/normal.PNG',Text,'fade-in dock-icon');setProperty('Heilos.Login.Image.1','object-fit','contain');BEMA('Button','Heilos.Login.Button.1',250,700,250,75,true,20,0,'',applyCustomClasses?Blank:Base,Text,t('login'),'center',25,'Tahoma',true,'',Text,'fade-in glass-filter glass-overlay glass-specular');hideElement('Heilos.Home.Time');onEvent('Heilos.Login.Button.1','click',function(){LockScreen(false);login(1);});hideElement('Heilos.Login.Window');hideElement('Heilos.Login.Image.1');hideElement('Heilos.Login.Button.1');showElement('Heilos.Login.Window');showElement('Heilos.Login.Image.1');showElement('Heilos.Login.Button.1');lockTimeUpdateIntervalId=timedLoop(500,function(){setText('Heilos.Login.TimeText',getTime(timeFormat+timeAfter));});}else{if(lockTimeUpdateIntervalId){stopTimedLoop(lockTimeUpdateIntervalId);}deleteElement('Heilos.Login.Wallpaper');deleteElement('Heilos.Login.TimeText');deleteElement('Heilos.Login.Window');deleteElement('Heilos.Login.Image.1');deleteElement('Heilos.Login.Button.1');deleteElement('Heilos.Login.StatusBarBG');deleteElement('Heilos.Login.Battery');}},writable:false,configurable:false});Object.defineProperty(window,'HomeScreen',{value:function(showhide){if(showhide){HomeScreen(false);if(!isDeviceSetup){OpenBundles$openApp('Setup');return;}if(killallHasRun){killallHasRun=false;return;}showElement('Heilos.Home.StatusBar.Time');var paddingTop=100;var paddingLeft=40;var paddingRight=43;var gridWidth=750-paddingLeft-paddingRight;var hSpacing=(gridWidth-cols*iconSize)/(cols-1);var vSpacing=hSpacing;let iconCount=0;for(let row=0;row<rows;row++){for(let col=0;col<cols;col++){var x=paddingLeft+col*(iconSize+hSpacing);var y=paddingTop+row*(iconSize+vSpacing);var id=`Heilos.Home.App.${iconCount}`;BEMA('Button',id,x,y,iconSize,iconSize,true,20,0,applyCustomClasses?Blank:Surface0,applyCustomClasses?Blank:Surface0,Text,'','center',5,'Tahoma',true,'./assets/music.png',Text,'glass-filter glass-overlay glass-specular fade-in');iconCount++;}}var dockPaddingLeft=35;var dockPaddingRight=35;var dockY=1210;var dockHeight=100;var dockIconSize=80;BEMA('TextArea','Heilos.Home.DockBG',25,dockY,700,dockHeight,false,30,0,applyCustomClasses?Blank:Mantle,applyCustomClasses?Blank:Mantle,Text,'','left',5,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular fade-in');var dockIconCount=7;var dockAvailableWidth=750-dockPaddingLeft-dockPaddingRight;var dockCols=dockIconCount;var dockHSpacing=(dockAvailableWidth-dockCols*dockIconSize)/(dockCols-1);for(let makeiconsi=0;makeiconsi<dockIconCount;makeiconsi++){var x=dockPaddingLeft+makeiconsi*(dockIconSize+dockHSpacing);var id=`Heilos.Home.DockApp.${makeiconsi}`;BEMA('Button',id,x,dockY+(dockHeight-dockIconSize)/2,dockIconSize,dockIconSize,true,20,0,applyCustomClasses?Blank:Surface0,applyCustomClasses?Blank:Surface0,Text,'','center',5,'Tahoma',true,'./assets/notes.png',Text,'dock-icon glass-filter glass-overlay glass-specular fade-in');}for(var makeiconsi=0;makeiconsi<6*6;makeiconsi++){const iconIndex=makeiconsi;onEvent('Heilos.Home.App.'+iconIndex,'click',function(){OpenBundles$openApp(icons[iconIndex]);});}for(var makeiconsi=0;makeiconsi<7;makeiconsi++){const iconIndex=makeiconsi;onEvent('Heilos.Home.DockApp.'+iconIndex,'click',function(){OpenBundles$openApp(barIcons[iconIndex]);});}updateIconVisibility();}else{deleteElement('Heilos.Home.Wallpaper');hideElement('Heilos.Home.Time');for(let deleteiconsi=0;deleteiconsi<6*6;deleteiconsi++){deleteElement(`Heilos.Home.App.${deleteiconsi}`);}deleteElement('Heilos.Home.DockBG');for(let deletedockiconsi=0;deletedockiconsi<7;deletedockiconsi++){deleteElement(`Heilos.Home.DockApp.${deletedockiconsi}`);}}},writable:false,configurable:false});function Bundle$Appstore(Data,Scr){if(!isDeviceSetup){OpenBundles$openApp('Setup');return;}if(killallHasRun){killallHasRun=false;return;}var bundleID='Appstore';if(activeBundles[bundleID]&&(Data==='Open'||Data===null||Data==='')){return;}if(!activeBundles[bundleID]){activeBundles[bundleID]={instanceIDd:generateRandomString(10),isRunning:true};}var instanceIDd=activeBundles[bundleID].instanceIDd;var isRunning=activeBundles[bundleID].isRunning;timedLoop(50,function(){if(!isRunning){return;}});var CurrentBundleName='Bundle$Appstore';var data={Screens:['OpenBundle.Appstore'],OpenBundle$Appstore:['OpenBundle.Appstore.'+instanceIDd+'.Bar.1','OpenBundle.Appstore.'+instanceIDd,'OpenBundle.Appstore.'+instanceIDd+'.Button.1','OpenBundle.Appstore.'+instanceIDd+'.Term','OpenBundle.Appstore.'+instanceIDd+'.Input']};OpenBundles$RegisterAppBundle('Appstore',data.Screens);OpenBundles$hideIcons();if(data[Data]){return data[Data];}else if(Data==='Open'||Data===null||Data===''){if(Scr==='Appstore'){BEMA('TextArea','OpenBundle.Appstore.'+instanceIDd,10,60,730,1264,false,30,0,'',Base,'',t('store.welcome'),'center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Appstore.'+instanceIDd+'.Bar.1',20,70,40,40,false,30,0,'',Surface0,'','','center',0,'',true,'./assets/times.png','','glass-filter glass-overlay glass-specular');var cols=5;var rows=4;var iconSize=100;var paddingTop=250;var paddingLeft=40;var paddingRight=43;var gridWidth=750-paddingLeft-paddingRight;var hSpacing=(gridWidth-cols*iconSize)/(cols-1);var vSpacing=hSpacing;let iconCount=0;for(let row=0;row<rows;row++){for(let col=0;col<cols;col++){var x=paddingLeft+col*(iconSize+hSpacing);var y=paddingTop+row*(iconSize+vSpacing);var id='OpenBundle.Appstore.'+instanceIDd+'.icon.'+iconCount;BEMA('Button',id,x,y,iconSize,iconSize,true,20,0,Surface0,Surface0,Text,'','center',17,'Tahoma',true,'./assets/music.png',Text,'glass-filter glass-overlay glass-specular');BEMA('Text',id+'.text',x,y+105,100,20,true,20,0,Base,Base,Text,'Music','center',16,'Tahoma',true,'',Text,'',{'z-index':'4'});var badgeID=id+'.badge';BEMA('Text',badgeID,x+iconSize-25,y+5,20,20,true,20,0,Surface1,Surface1,'#a6e3a1','\u2713','center',16,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{'z-index':'4'});var lbadgeID=id+'.lbadge';BEMA('Button',lbadgeID,x+iconSize-95,y+5,20,20,true,20,0,Surface1,Surface1,'#a6e3a1','+','center',13,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{'z-index':'4'});iconCount++;}}onEvent('OpenBundle.Appstore.'+instanceIDd+'.Bar.1','click',function(){Bundle$Appstore('HideAll','OpenBundle$Appstore');});fetch(ServerUrl+'/appstore/apps.json').then(response=>response.json()).then(appList=>{for(let i=0;i<appList.length;i++){(function(app,i){const iconID='OpenBundle.Appstore.'+instanceIDd+'.icon.'+i;const badgeID=iconID+'.badge';const lbadgeID=iconID+'.lbadge';const textID=iconID+'.text';const minV=app.minversion!=null?app.minversion.toString():null;const maxV=app.maxversion!=null?app.maxversion.toString():null;if(minV!==null&&isVersionGreater(minV,Version)||maxV!==null&&isVersionLess(maxV,Version)){return;}if(!document.getElementById(iconID))return;showElement(iconID);showElement(textID);setText(textID,getLocalizedName(app));setText(badgeID,'\u2713');setText(lbadgeID,'+');setProperty(iconID,'image',app.icon);if(icons.includes(app.name)){showElement(badgeID);showElement(lbadgeID);}if(barIcons.includes(app.name)){setProperty(lbadgeID,'color','rgb(243, 139, 168)');setText(lbadgeID,'x');}onEvent(iconID,'click',function(){DownloadFunction(app.fullurloverride?app.url:ServerUrl+'/'+app.url).then(()=>{openBundles$addApp(app.name,app.version,app.maker,app.func,app.icon,true,true);if(instordelapp(app)){showElement(badgeID);showElement(lbadgeID);}else{hideElement(badgeID);hideElement(lbadgeID);}}).catch(e=>console.error(app.name+' download failed:',e));});onEvent(lbadgeID,'click',function(){var isAppInList=false;for(var i=0;i<apps.length;i++){if(barIcons[i]==app.name){isAppInList=true;break;}}if(isAppInList){openBundles$UninstallShortcut(app.name);setProperty(lbadgeID,'color','#a6e3a1');setText(lbadgeID,'+');}else{openBundles$InstallShortcut(app.name,app.icon);setProperty(lbadgeID,'color','rgb(243, 139, 168)');setText(lbadgeID,'x');}});}(appList[i],i));}}).catch(err=>console.error('apps.json load failed:',err));}}else if(Data=='HideAll'){eval('for (var i = 0; i < data.'+Scr+'.length; i++) {deleteElement(data.'+Scr+'[i]);OpenBundles$showIcons();}');for(let deleteiconsi=0;deleteiconsi<5*5;deleteiconsi++){deleteElement('OpenBundle.Appstore.'+instanceIDd+'.icon.'+deleteiconsi);deleteElement('OpenBundle.Appstore.'+instanceIDd+'.icon.'+deleteiconsi+'.badge');deleteElement('OpenBundle.Appstore.'+instanceIDd+'.icon.'+deleteiconsi+'.lbadge');deleteElement('OpenBundle.Appstore.'+instanceIDd+'.icon.'+deleteiconsi+'.text');}slideAppsDown(icons);slideAppsDown(barIcons);updateIconVisibility();delete activeBundles[bundleID];}else if(Data=='DeleteApp'){}else{console.error('Unknown error with '+CurrentBundleName);return'';}}function parseVersion(v){if(typeof v!=='string')return[];v=v.split('-')[0];return v.split('.').map(num=>parseInt(num,10));}function isVersionLess(v1,v2){const a=parseVersion(v1);const b=parseVersion(v2);for(let i=0;i<Math.max(a.length,b.length);i++){const n1=a[i]||0;const n2=b[i]||0;if(n1<n2)return true;if(n1>n2)return false;}return false;}function isVersionGreater(v1,v2){const a=parseVersion(v1);const b=parseVersion(v2);for(let i=0;i<Math.max(a.length,b.length);i++){const n1=a[i]||0;const n2=b[i]||0;if(n1>n2)return true;if(n1<n2)return false;}return false;}function getLocalizedName(app){if(currentLang==='ru'){return app.rusname||app.name;}else{return app.name;}}function instordelapp(app){var isAppInList=false;for(var i=0;i<apps.length;i++){if(icons[i]==app.name){isAppInList=true;break;}}if(isAppInList){Heilos$UninstallApp(app.name);openBundles$UninstallShortcut(app.name);if(app.isbundle){eval('Bundle$'+app.name+'("DeleteApp");');}return false;}else{Heilos$InstallApp(app.name,app.icon);return true;}}function Bundle$Settings(Data,Scr){if(!isDeviceSetup){OpenBundles$openApp('Setup');return;}if(killallHasRun){killallHasRun=false;return;}var bundleID='Settings';if(activeBundles[bundleID]&&(Data==='Open'||Data===null||Data==='')){return;}if(!activeBundles[bundleID]){activeBundles[bundleID]={instanceIDd:generateRandomString(10),isRunning:true};}var instanceIDd=activeBundles[bundleID].instanceIDd;var isRunning=activeBundles[bundleID].isRunning;timedLoop(50,function(){if(!isRunning){return;}});var CurrentBundleName='Bundle$Settings';var data={Screens:['OpenBundle.Settings','OpenBundle.Wallpapers','OpenBundle.General','OpenBundle.About'],OpenBundle$Settings:['OpenBundle.Settings.'+instanceIDd,'OpenBundle.Settings.'+instanceIDd+'.Bar.1','OpenBundle.Settings.'+instanceIDd+'.Title','OpenBundle.Settings.'+instanceIDd+'.Option.Wallpapers','OpenBundle.Settings.'+instanceIDd+'.Option.General','OpenBundle.Settings.'+instanceIDd+'.Option.About'],OpenBundle$Wallpapers:['OpenBundle.Wallpapers.'+instanceIDd+'.Bar.1','OpenBundle.Wallpapers.'+instanceIDd+'.Bar.2','OpenBundle.Wallpapers.'+instanceIDd,'OpenBundle.Wallpapers.'+instanceIDd+'.Button.1','OpenBundle.Wallpapers.'+instanceIDd+'.Button.2','OpenBundle.Wallpapers.'+instanceIDd+'.Button.3','OpenBundle.Wallpapers.'+instanceIDd+'.Button.4','OpenBundle.Wallpapers.'+instanceIDd+'.Button.5','OpenBundle.Wallpapers.'+instanceIDd+'.Button.6','OpenBundle.Wallpapers.'+instanceIDd+'.Button.7','OpenBundle.Wallpapers.'+instanceIDd+'.Button.8','OpenBundle.Wallpapers.'+instanceIDd+'.Button.9'],OpenBundle$About:['OpenBundle.About.'+instanceIDd,'OpenBundle.About.'+instanceIDd+'.Bar.1','OpenBundle.About.'+instanceIDd+'.Bar.2','OpenBundle.About.'+instanceIDd+'.Title','OpenBundle.About.'+instanceIDd+'.Text'],OpenBundle$General:['OpenBundle.General.'+instanceIDd,'OpenBundle.General.'+instanceIDd+'.Bar.1','OpenBundle.General.'+instanceIDd+'.Bar.2','OpenBundle.General.'+instanceIDd+'.Title','OpenBundle.General.'+instanceIDd+'.LangTitle','OpenBundle.General.'+instanceIDd+'.LangSubTitle','OpenBundle.General.'+instanceIDd+'.Button.English','OpenBundle.General.'+instanceIDd+'.Button.Russian','OpenBundle.General.'+instanceIDd+'.TimeTitle','OpenBundle.General.'+instanceIDd+'.TimeSubTitle.Format','OpenBundle.General.'+instanceIDd+'.TimeSubTitle.Seconds','OpenBundle.General.'+instanceIDd+'.Button.24h','OpenBundle.General.'+instanceIDd+'.Button.12h','OpenBundle.General.'+instanceIDd+'.Button.seconds','OpenBundle.General.'+instanceIDd+'.Button.noseconds','OpenBundle.General.'+instanceIDd+'.UiTitle','OpenBundle.General.'+instanceIDd+'.UiSubTitle','OpenBundle.General.'+instanceIDd+'.Button.glass.yes','OpenBundle.General.'+instanceIDd+'.Button.glass.no']};OpenBundles$RegisterAppBundle('Settings',data.Screens);OpenBundles$hideIcons();if(data[Data]){return data[Data];}else if(Data==='Open'||Data===null||Data===''){if(Scr==='Settings'){BEMA('TextArea','OpenBundle.Settings.'+instanceIDd,10,60,730,1264,false,30,0,'',Base,'','','left',0,'',false,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Settings.'+instanceIDd+'.Bar.1',20,70,40,40,false,30,0,'',Surface0,'','','center',0,'',true,'./assets/times.png','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.Settings.'+instanceIDd+'.Title',12,130,726,50,false,0,0,Base,Base,Text,t('settings'),'center',28,'Tahoma',true,'',Text,'',{'z-index':'4'});BEMA('Button','OpenBundle.Settings.'+instanceIDd+'.Option.General',50,200,650,70,false,10,1,Surface0,Surface0,Text,t('general'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('Button','OpenBundle.Settings.'+instanceIDd+'.Option.Wallpapers',50,280,650,70,false,10,1,Surface0,Surface0,Text,t('wallpapers'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('Button','OpenBundle.Settings.'+instanceIDd+'.Option.About',50,360,650,70,false,10,1,Surface0,Surface0,Text,t('about'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});onEvent('OpenBundle.Settings.'+instanceIDd+'.Bar.1','click',function(){Bundle$Settings('HideAll','OpenBundle$Settings');});onEvent('OpenBundle.Settings.'+instanceIDd+'.Option.General','click',function(){Bundle$Settings('HideAll','OpenBundle$Settings');Bundle$Settings('','General');});onEvent('OpenBundle.Settings.'+instanceIDd+'.Option.Wallpapers','click',function(){Bundle$Settings('HideAll','OpenBundle$Settings');Bundle$Settings('','Wallpapers');});onEvent('OpenBundle.Settings.'+instanceIDd+'.Option.About','click',function(){Bundle$Settings('HideAll','OpenBundle$Settings');Bundle$Settings('','About');});}else if(Scr==='General'){const displayLangName=currentLang==='ru'?'Русский':'English';BEMA('TextArea','OpenBundle.General.'+instanceIDd,10,60,730,1264,false,30,0,'',Base,'','','left',0,'',false,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.General.'+instanceIDd+'.Bar.1',20,70,40,40,false,30,0,'',Surface0,'','','center',0,'',true,'./assets/times.png','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.General.'+instanceIDd+'.Bar.2',70,70,40,40,false,30,0,'',Surface0,'','','center',0,'',true,'./assets/up-arrow.png','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.General.'+instanceIDd+'.Title',10,130,730,50,false,0,0,applyCustomClasses?Blank:Base,applyCustomClasses?Blank:Base,Text,t('general'),'center',28,'Tahoma',true,'',Text,'',{'z-index':'4'});BEMA('TextArea','OpenBundle.General.'+instanceIDd+'.LangTitle',10,200,730,50,false,0,0,applyCustomClasses?Blank:Base,applyCustomClasses?Blank:Base,Text,t('language'),'center',26,'Tahoma',true,'',Text,'',{'z-index':'4'});BEMA('TextArea','OpenBundle.General.'+instanceIDd+'.LangSubTitle',10,240,730,30,false,0,0,applyCustomClasses?Blank:Base,applyCustomClasses?Blank:Base,Text,t('language.current',{lang:displayLangName}),'center',18,'Tahoma',true,'',Text,'',{'z-index':'4'});BEMA('Button','OpenBundle.General.'+instanceIDd+'.Button.English',50,280,320,70,false,10,1,Surface0,Surface0,Text,'English','left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('Button','OpenBundle.General.'+instanceIDd+'.Button.Russian',380,280,320,70,false,10,1,Surface0,Surface0,Text,'Русский','left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('TextArea','OpenBundle.General.'+instanceIDd+'.TimeTitle',10,400,730,50,false,0,0,applyCustomClasses?Blank:Base,applyCustomClasses?Blank:Base,Text,t('timeformatting'),'center',26,'Tahoma',true,'',Text,'',{'z-index':'4'});BEMA('TextArea','OpenBundle.General.'+instanceIDd+'.TimeSubTitle.Format',10,440,730,30,false,0,0,applyCustomClasses?Blank:Base,applyCustomClasses?Blank:Base,Text,t('24hour'),'center',18,'Tahoma',true,'',Text,'',{'z-index':'4'});BEMA('Button','OpenBundle.General.'+instanceIDd+'.Button.12h',50,480,320,70,false,10,1,Surface0,Surface0,Text,'12'+t('-hour'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('Button','OpenBundle.General.'+instanceIDd+'.Button.24h',380,480,320,70,false,10,1,Surface0,Surface0,Text,'24'+t('-hour'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('TextArea','OpenBundle.General.'+instanceIDd+'.TimeSubTitle.Seconds',10,560,730,30,false,0,0,applyCustomClasses?Blank:Base,applyCustomClasses?Blank:Base,Text,t('seconds'),'center',18,'Tahoma',true,'',Text,'',{'z-index':'4'});BEMA('Button','OpenBundle.General.'+instanceIDd+'.Button.noseconds',50,600,320,70,false,10,1,Surface0,Surface0,Text,t('no'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('Button','OpenBundle.General.'+instanceIDd+'.Button.seconds',380,600,320,70,false,10,1,Surface0,Surface0,Text,t('yes'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('TextArea','OpenBundle.General.'+instanceIDd+'.UiTitle',10,720,730,50,false,0,0,applyCustomClasses?Blank:Base,applyCustomClasses?Blank:Base,Text,t('ui'),'center',26,'Tahoma',true,'',Text,'',{'z-index':'4'});BEMA('TextArea','OpenBundle.General.'+instanceIDd+'.UiSubTitle',10,760,730,30,false,0,0,applyCustomClasses?Blank:Base,applyCustomClasses?Blank:Base,Text,t('disableglassandanim'),'center',18,'Tahoma',true,'',Text,'',{'z-index':'4'});BEMA('Button','OpenBundle.General.'+instanceIDd+'.Button.glass.no',50,800,320,70,false,10,1,Surface0,Surface0,Text,t('no'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('Button','OpenBundle.General.'+instanceIDd+'.Button.glass.yes',380,800,320,70,false,10,1,Surface0,Surface0,Text,t('yes'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});onEvent('OpenBundle.General.'+instanceIDd+'.Bar.1','click',function(){Bundle$Settings('HideAll','OpenBundle$General');});onEvent('OpenBundle.General.'+instanceIDd+'.Bar.2','click',function(){Bundle$Settings('HideAll','OpenBundle$General');Bundle$Settings('','Settings');});onEvent('OpenBundle.General.'+instanceIDd+'.Button.English','click',function(){currentLang='en';Bundle$Settings('HideAll','OpenBundle$General');Reboot();});onEvent('OpenBundle.General.'+instanceIDd+'.Button.Russian','click',function(){currentLang='ru';Bundle$Settings('HideAll','OpenBundle$General');Reboot();});onEvent('OpenBundle.General.'+instanceIDd+'.Button.12h','click',function(){timeFormat='hh:mm';});onEvent('OpenBundle.General.'+instanceIDd+'.Button.24h','click',function(){timeFormat='HH:mm';});onEvent('OpenBundle.General.'+instanceIDd+'.Button.noseconds','click',function(){timeAfter='';});onEvent('OpenBundle.General.'+instanceIDd+'.Button.seconds','click',function(){timeAfter=':ss';});onEvent('OpenBundle.General.'+instanceIDd+'.Button.glass.yes','click',function(){applyCustomClasses=false;Bundle$Settings('HideAll','OpenBundle$General');Reboot();});onEvent('OpenBundle.General.'+instanceIDd+'.Button.glass.no','click',function(){applyCustomClasses=true;Bundle$Settings('HideAll','OpenBundle$General');Reboot();});}else if(Scr==='Wallpapers'){BEMA('TextArea','OpenBundle.Wallpapers.'+instanceIDd,10,60,730,1264,false,30,0,'',Base,'','','left',0,'',false,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Wallpapers.'+instanceIDd+'.Bar.1',20,70,40,40,false,30,0,'',Surface0,'','','center',0,'',true,'./assets/times.png','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Wallpapers.'+instanceIDd+'.Bar.2',70,70,40,40,false,30,0,'',Surface0,'','','center',0,'',true,'./assets/up-arrow.png','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Wallpapers.'+instanceIDd+'.Button.1',10+74,140,187,333,false,8,1,Surface0,Surface0,Text,'','center',16,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Wallpapers.'+instanceIDd+'.Button.2',207+74,140,187,333,false,8,1,Surface0,Surface0,Text,'','center',16,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Wallpapers.'+instanceIDd+'.Button.3',405+74,140,187,333,false,8,1,Surface0,Surface0,Text,'','center',16,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Wallpapers.'+instanceIDd+'.Button.4',10+74,483,187,333,false,8,1,Surface0,Surface0,Text,'','center',16,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Wallpapers.'+instanceIDd+'.Button.5',207+74,483,187,333,false,8,1,Surface0,Surface0,Text,'','center',16,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Wallpapers.'+instanceIDd+'.Button.6',405+74,483,187,333,false,8,1,Surface0,Surface0,Text,'','center',16,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Wallpapers.'+instanceIDd+'.Button.7',10+74,828,187,333,false,8,1,Surface0,Surface0,Text,'','center',16,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Wallpapers.'+instanceIDd+'.Button.8',207+74,828,187,333,false,8,1,Surface0,Surface0,Text,'','center',16,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Wallpapers.'+instanceIDd+'.Button.9',405+74,828,187,333,false,8,1,Surface0,Surface0,Text,'','center',16,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');onEvent('OpenBundle.Wallpapers.'+instanceIDd+'.Bar.1','click',function(){Bundle$Settings('HideAll','OpenBundle$Wallpapers');});onEvent('OpenBundle.Wallpapers.'+instanceIDd+'.Bar.2','click',function(){Bundle$Settings('HideAll','OpenBundle$Wallpapers');Bundle$Settings('','Settings');});var wallpaperLinks=['./assets/wallpapers/wave.jpg','./assets/wallpapers/waves.jpg','./assets/wallpapers/strands.png','./assets/wallpapers/Chroma Blue.png','./assets/wallpapers/Tahoe.png','./assets/wallpapers/Tahoe Light.png','./assets/wallpapers/layers.jpg'];for(var i=0;i<9;i++){if(wallpaperLinks[i]){setProperty('OpenBundle.Wallpapers.'+instanceIDd+'.Button.'+(i+1),'image',wallpaperLinks[i]);setProperty('OpenBundle.Wallpapers.'+instanceIDd+'.Button.'+(i+1)+'','object-fit','fill');onEvent('OpenBundle.Wallpapers.'+instanceIDd+'.Button.'+(i+1),'click',function(index){return function(){setWallpaper(getProperty('OpenBundle.Wallpapers.'+instanceIDd+'.Button.'+(index+1)+'-img','image'));};}(i));}else{hideElement('OpenBundle.Wallpapers.'+instanceIDd+'.Button.'+(i+1));}}}else if(Scr==='About'){BEMA('TextArea','OpenBundle.About.'+instanceIDd,10,60,730,1264,false,30,0,'',Base,'','','left',0,'',false,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.About.'+instanceIDd+'.Bar.1',20,70,40,40,false,30,0,'',Surface0,'','','center',0,'',true,'./assets/times.png','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.About.'+instanceIDd+'.Bar.2',70,70,40,40,false,30,0,'',Surface0,'','','center',0,'',true,'./assets/up-arrow.png','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.About.'+instanceIDd+'.Title',12,130,726,50,false,0,0,Base,Base,Text,t('about'),'center',28,'Tahoma',true,'',Text,'',{'z-index':'4'});BEMA('TextArea','OpenBundle.About.'+instanceIDd+'.Text',12,300,726,500,false,0,0,Base,Base,Text,t('settings.about',{version:Version}),'center',23,'Tahoma',true,true,Text,'',{'z-index':'4'});onEvent('OpenBundle.About.'+instanceIDd+'.Bar.1','click',function(){Bundle$Settings('HideAll','OpenBundle$About');});onEvent('OpenBundle.About.'+instanceIDd+'.Bar.2','click',function(){Bundle$Settings('HideAll','OpenBundle$About');Bundle$Settings('','Settings');});}}else if(Data=='HideAll'){eval('for (var i = 0; i < data.'+Scr+'.length; i++) {deleteElement(data.'+Scr+'[i]);OpenBundles$showIcons();}');delete activeBundles[bundleID];}else if(Data=='DeleteApp'){}else{console.error('Unknown error with '+CurrentBundleName);return'';}}var setupEnableGlass=true;function Bundle$Setup(Data,Scr){var bundleID='Setup';if(activeBundles[bundleID]&&(Data==='Open'||Data===null||Data==='')){return;}if(!activeBundles[bundleID]){activeBundles[bundleID]={instanceIDd:generateRandomString(10),isRunning:true};}var instanceIDd=activeBundles[bundleID].instanceIDd;var isRunning=activeBundles[bundleID].isRunning;timedLoop(50,function(){if(!isRunning){return;}});var CurrentBundleName='Bundle$Setup';var data={Screens:['OpenBundle.Setup','OpenBundle.Lang','OpenBundle.Ui','OpenBundle.Other','OpenBundle.Eula','OpenBundle.Activation','OpenBundle.Done'],OpenBundle$Setup:['OpenBundle.Setup.'+instanceIDd+'.Welcome.Background','OpenBundle.Setup.'+instanceIDd+'.Welcome','OpenBundle.Setup.'+instanceIDd+'.Welcome.Button','OpenBundle.Setup.'+instanceIDd+'.Welcome.Version'],OpenBundle$Lang:['OpenBundle.Setup.'+instanceIDd+'.Lang.Background','OpenBundle.Setup.'+instanceIDd+'.Lang','OpenBundle.Setup.'+instanceIDd+'.Lang.Button.English','OpenBundle.Setup.'+instanceIDd+'.Lang.Button.Russian','OpenBundle.Setup.'+instanceIDd+'.Lang.Button.1'],OpenBundle$Ui:['OpenBundle.Setup.'+instanceIDd+'.Ui.Background','OpenBundle.Setup.'+instanceIDd+'.Ui','OpenBundle.Setup.'+instanceIDd+'.Ui.UiSubTitle','OpenBundle.Setup.'+instanceIDd+'.Ui.Button.glassno','OpenBundle.Setup.'+instanceIDd+'.Ui.Button.glassyes','OpenBundle.Setup.'+instanceIDd+'.Ui.Button.1'],OpenBundle$Other:['OpenBundle.Setup.'+instanceIDd+'.Other.Background','OpenBundle.Setup.'+instanceIDd+'.Other','OpenBundle.Setup.'+instanceIDd+'.Other.TimeSubTitle.Format','OpenBundle.Setup.'+instanceIDd+'.Other.TimeSubTitle.Seconds','OpenBundle.Setup.'+instanceIDd+'.Other.Button.12h','OpenBundle.Setup.'+instanceIDd+'.Other.Button.Lang4h','OpenBundle.Setup.'+instanceIDd+'.Other.Button.noseconds','OpenBundle.Setup.'+instanceIDd+'.Other.Button.seconds','OpenBundle.Setup.'+instanceIDd+'.Other.Button.1'],OpenBundle$Eula:['OpenBundle.Setup.'+instanceIDd+'.Eula.Background','OpenBundle.Setup.'+instanceIDd+'.Eula','OpenBundle.Setup.'+instanceIDd+'.Eula.Button.1'],OpenBundle$Activation:['OpenBundle.Setup.'+instanceIDd+'.Activation.Background','OpenBundle.Setup.'+instanceIDd+'.Activation','OpenBundle.Setup.'+instanceIDd+'.Activation.Button.1','OpenBundle.Setup.'+instanceIDd+'.Activation.Version'],OpenBundle$Done:['OpenBundle.Setup.'+instanceIDd+'.Done.Background','OpenBundle.Setup.'+instanceIDd+'.Done','OpenBundle.Setup.'+instanceIDd+'.Done.Button.1']};OpenBundles$RegisterAppBundle('Setup',data.Screens);OpenBundles$hideIcons();if(data[Data]){return data[Data];}else if(Data==='Open'||Data===null||Data===''){if(Scr==='Setup'){BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Welcome.Background',0,0,750,1334,false,0,0,'',Mantle,'','','center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Welcome',10,10,730,1314,false,30,0,'',Base,'',t('setuptext.welcome'),'center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Welcome.Button',675,1255,48,48,false,30,0,'',Surface0,'','','center',0,'',true,'assets/right-arrow.png','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Welcome.Version',20,1265,480,48,false,30,0,'',Base,'',StatusBarText,'left',20,'Tahoma',true,'','','');onEvent('OpenBundle.Setup.'+instanceIDd+'.Welcome.Button','click',function(){Bundle$Setup('HideAll','OpenBundle$Setup');Bundle$Setup('Open','Lang');});}else if(Scr==='Lang'){BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Lang.Background',0,0,750,1334,false,0,0,'',Mantle,'','','center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Lang',10,10,730,1314,false,30,0,'',Base,'',t('setuptext.lang'),'center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Lang.Button.1',675,1255,48,48,false,30,0,'',Surface0,'','','center',0,'',true,'assets/right-arrow.png','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Lang.Button.English',50,600,320,70,false,10,1,Surface0,Surface0,Text,'English','left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Lang.Button.Russian',380,600,320,70,false,10,1,Surface0,Surface0,Text,'Русский','left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});onEvent('OpenBundle.Setup.'+instanceIDd+'.Lang.Button.English','click',function(){currentLang='en';});onEvent('OpenBundle.Setup.'+instanceIDd+'.Lang.Button.Russian','click',function(){currentLang='ru';});onEvent('OpenBundle.Setup.'+instanceIDd+'.Lang.Button.1','click',function(){Bundle$Setup('HideAll','OpenBundle$Lang');Bundle$Setup('Open','Ui');});}else if(Scr==='Ui'){BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Ui.Background',0,0,750,1334,false,0,0,'',Mantle,'','','center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Ui',10,10,730,1314,false,30,0,'',Base,'',t('setuptext.ui'),'center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Ui.Button.1',675,1255,48,48,false,30,0,'',Surface0,'','','center',0,'',true,'assets/right-arrow.png','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Ui.UiSubTitle',10,560,730,30,false,0,0,applyCustomClasses?Blank:Base,applyCustomClasses?Blank:Base,Text,t('disableglassandanim'),'center',18,'Tahoma',true,'',Text,'',{'z-index':'4'});BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Ui.Button.glassno',50,600,320,70,false,10,1,Surface0,Surface0,Text,t('no'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Ui.Button.glassyes',380,600,320,70,false,10,1,Surface0,Surface0,Text,t('yes'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});onEvent('OpenBundle.Setup.'+instanceIDd+'.Ui.Button.glassno','click',function(){setupEnableGlass=true;});onEvent('OpenBundle.Setup.'+instanceIDd+'.Ui.Button.glassyes','click',function(){setupEnableGlass=false;});onEvent('OpenBundle.Setup.'+instanceIDd+'.Ui.Button.1','click',function(){Bundle$Setup('HideAll','OpenBundle$Ui');Bundle$Setup('Open','Other');});}else if(Scr==='Other'){BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Other.Background',0,0,750,1334,false,0,0,'',Mantle,'','','center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Other',10,10,730,1314,false,30,0,'',Base,'',t('setuptext.other'),'center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Other.Button.1',675,1255,48,48,false,30,0,'',Surface0,'','','center',0,'',true,'assets/right-arrow.png','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Other.TimeSubTitle.Format',10,540,730,30,false,0,0,applyCustomClasses?Blank:Base,applyCustomClasses?Blank:Base,Text,t('24hour'),'center',18,'Tahoma',true,'',Text,'',{'z-index':'4'});BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Other.Button.12h',50,580,320,70,false,10,1,Surface0,Surface0,Text,'12'+t('-hour'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Other.Button.Lang4h',380,580,320,70,false,10,1,Surface0,Surface0,Text,'24'+t('-hour'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Other.TimeSubTitle.Seconds',10,660,730,30,false,0,0,applyCustomClasses?Blank:Base,applyCustomClasses?Blank:Base,Text,t('seconds'),'center',18,'Tahoma',true,'',Text,'',{'z-index':'4'});BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Other.Button.noseconds',50,700,320,70,false,10,1,Surface0,Surface0,Text,t('no'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Other.Button.seconds',380,700,320,70,false,10,1,Surface0,Surface0,Text,t('yes'),'left',20,'Tahoma',true,'',Text,'glass-filter glass-overlay glass-specular',{paddingLeft:'20px'});onEvent('OpenBundle.Setup.'+instanceIDd+'.Other.Button.12h','click',function(){timeFormat='hh:mm';});onEvent('OpenBundle.Setup.'+instanceIDd+'.Other.Button.Lang4h','click',function(){timeFormat='HH:mm';});onEvent('OpenBundle.Setup.'+instanceIDd+'.Other.Button.noseconds','click',function(){timeAfter='';});onEvent('OpenBundle.Setup.'+instanceIDd+'.Other.Button.seconds','click',function(){timeAfter=':ss';});onEvent('OpenBundle.Setup.'+instanceIDd+'.Other.Button.1','click',function(){Bundle$Setup('HideAll','OpenBundle$Other');Bundle$Setup('Open','Eula');});}else if(Scr==='Eula'){BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Eula.Background',0,0,750,1334,false,0,0,'',Mantle,'','','center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Eula',10,10,730,1314,false,30,0,'',Base,'',t('setuptext.eula'),'center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Eula.Button.1',675,1255,48,48,false,30,0,'',Surface0,'','','center',0,'',true,'assets/right-arrow.png','','glass-filter glass-overlay glass-specular');onEvent('OpenBundle.Setup.'+instanceIDd+'.Eula.Button.1','click',function(){Bundle$Setup('HideAll','OpenBundle$Eula');Bundle$Setup('Open','Activation');});}else if(Scr==='Activation'){BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Activation.Background',0,0,750,1334,false,0,0,'',Mantle,'','','center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Activation',10,10,730,1314,false,30,0,'',Base,'',t('setuptext.activation'),'center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Activation.Button.1',675,1255,48,48,true,30,0,'',Surface0,'','','center',0,'',true,'assets/right-arrow.png','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Activation.Version',20,1265,480,48,true,30,0,'',Base,'',StatusBarText,'left',20,'Tahoma',true,'','','');hideElement('OpenBundle.Setup.'+instanceIDd+'.Activation.Version');CheckActivation().then(success=>{if(success){CheckActivation().then(success=>{if(success){setText('OpenBundle.Setup.'+instanceIDd+'.Activation',t('setuptext.activation.suc'));showElement('OpenBundle.Setup.'+instanceIDd+'.Activation.Button.1');}else{deleteElement('OpenBundle.Setup.'+instanceIDd+'.Activation.Button.1');showElement('OpenBundle.Setup.'+instanceIDd+'.Activation.Version');setText('OpenBundle.Setup.'+instanceIDd+'.Activation',t('setuptext.activation.fail'));}});}else{isNyaNetAvailable=false;deleteElement('OpenBundle.Setup.'+instanceIDd+'.Activation.Button.1');showElement('OpenBundle.Setup.'+instanceIDd+'.Activation.Version');setText('OpenBundle.Setup.'+instanceIDd+'.Activation',t('setuptext.activation.fail'));}});onEvent('OpenBundle.Setup.'+instanceIDd+'.Activation.Button.1','click',function(){Bundle$Setup('HideAll','OpenBundle$Activation');Bundle$Setup('Open','Done');});}else if(Scr==='Done'){BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Done.Background',0,0,750,1334,false,0,0,'',Mantle,'','','center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('TextArea','OpenBundle.Setup.'+instanceIDd+'.Done',10,10,730,1314,false,30,0,'',Base,'',t('setuptext.done'),'center',30,'Tahoma',true,'','','glass-filter glass-overlay glass-specular');BEMA('Button','OpenBundle.Setup.'+instanceIDd+'.Done.Button.1',675,1255,48,48,false,30,0,'',Surface0,'','','center',0,'',true,'assets/right-arrow.png','','glass-filter glass-overlay glass-specular');onEvent('OpenBundle.Setup.'+instanceIDd+'.Done.Button.1','click',function(){Bundle$Setup('HideAll','OpenBundle$Done');Heilos$UninstallApp('Setup');openBundles$removeApp('Setup');applyCustomClasses=setupEnableGlass;isDeviceSetup=true;Reboot();});}}else if(Data=='HideAll'){eval('for (var i = 0; i < data.'+Scr+'.length; i++) {deleteElement(data.'+Scr+'[i]);OpenBundles$showIcons();}');delete activeBundles[bundleID];return;}else if(Data=='DeleteApp'){}else{console.error('Unknown error with '+CurrentBundleName);return'';}for(const name of Object.keys(expectedHashes)){checkKextIntegrity(name,expectedHashes);}}}));function _0x243b(_0x5b0518,_0x30633c){var _0xad9bb6=_0xad9b();return _0x243b=function(_0x243b67,_0x440a3d){_0x243b67=_0x243b67-0x95;var _0x523138=_0xad9bb6[_0x243b67];return _0x523138;},_0x243b(_0x5b0518,_0x30633c);}function _0xad9b(){var _0x7ba569=['Bundle$Settings(\x22Open\x22,\x20\x22Settings\x22);','Appstore','Bundle$Setup(\x22Open\x22,\x20\x22Setup\x22);','./assets/appstore.svg','addEventListener','.Home.Wallpaper1','now','6mPkcfG','192isdvdg','KextIntegrityLastChecked','.Home.DockApp.','1266499SicLHG','3843112IWcYsu','DOMContentLoaded','keys','KextTegrity','25469520adCVKS','10492783LHIaAM','function','3772625JUubVg','5768JPUlQV','Mocha','6582HIxfhA','Bundle$Appstore(\x22Open\x22,\x20\x22Appstore\x22);','18837AYqOeM','./assets/Setup.png'];_0xad9b=function(){return _0x7ba569;};return _0xad9b();}